# yanbao AI 真机测试完整指南

**版本**: 1.0.0  
**创建日期**: 2026年1月17日  
**状态**: 🧪 测试方案完成，待执行  
**适用对象**: 新 Manus 账号、测试团队

---

## 📋 测试概述

本文档提供 yanbao AI 原生安卓应用的真机测试完整指南，包括：
1. 设备准备
2. 环境配置
3. 测试流程
4. 测试清单
5. 问题记录
6. 测试报告

---

## 📱 设备准备

### 1. 推荐测试设备

**必测设备** (至少 3 台):

| 品牌 | 型号 | Android 版本 | 屏幕尺寸 | 分辨率 | 备注 |
|------|------|--------------|----------|--------|------|
| 小米 | 小米 13 | Android 13 | 6.36" | 2400x1080 | 高端机 |
| 华为 | Mate 40 | Android 10 | 6.5" | 2376x1080 | 中端机 |
| OPPO | Reno 8 | Android 12 | 6.4" | 2400x1080 | 中端机 |

**可选设备**:

| 品牌 | 型号 | Android 版本 | 屏幕尺寸 | 分辨率 | 备注 |
|------|------|--------------|----------|--------|------|
| vivo | X90 | Android 13 | 6.78" | 2800x1260 | 高端机 |
| 三星 | Galaxy S23 | Android 13 | 6.1" | 2340x1080 | 高端机 |
| 一加 | OnePlus 11 | Android 13 | 6.7" | 3216x1440 | 高端机 |

---

### 2. 设备配置

**开启 USB 调试**:
1. 进入"设置" > "关于手机"
2. 连续点击"版本号" 7 次，开启"开发者选项"
3. 进入"开发者选项"
4. 开启"USB 调试"
5. 开启"USB 安装"（如果有）

**连接电脑**:
```bash
# 连接设备
adb devices

# 应该看到设备列表
List of devices attached
XXXXXXXXXX      device
```

---

## 🔧 环境配置

### 1. 安装 ADB 工具

**macOS**:
```bash
brew install android-platform-tools
```

**Ubuntu**:
```bash
sudo apt-get install android-tools-adb android-tools-fastboot
```

**Windows**:
1. 下载 Android SDK Platform Tools
2. 解压到 C:\adb
3. 添加到环境变量 PATH

---

### 2. 安装应用

**方法 1: 使用 ADB**:
```bash
# 安装 Debug 版本
adb install -r android/app/build/outputs/apk/debug/app-debug.apk

# 安装 Release 版本
adb install -r android/app/build/outputs/apk/release/app-release.apk
```

**方法 2: 使用 React Native**:
```bash
# 直接运行
npm run android
```

---

## 🧪 测试流程

### 1. 功能测试流程

**步骤 1: 启动应用**
```bash
# 启动应用
adb shell am start -n com.yanbaoai/.MainActivity

# 查看启动时间
adb shell am start -W com.yanbaoai/.MainActivity
```

**步骤 2: 功能测试**
- 按照测试清单逐项测试
- 记录测试结果
- 截图/录屏问题

**步骤 3: 性能测试**
```bash
# 监控 CPU
adb shell top -n 1 | grep com.yanbaoai

# 监控内存
adb shell dumpsys meminfo com.yanbaoai

# 监控帧率
adb shell dumpsys gfxinfo com.yanbaoai framestats
```

**步骤 4: 日志收集**
```bash
# 查看应用日志
adb logcat | grep com.yanbaoai

# 保存日志到文件
adb logcat | grep com.yanbaoai > test_log.txt
```

---

### 2. 性能测试流程

**步骤 1: 启动速度测试**
```bash
# 冷启动测试（重复 5 次取平均值）
for i in {1..5}; do
  adb shell am force-stop com.yanbaoai
  sleep 2
  adb shell am start -W com.yanbaoai/.MainActivity | grep TotalTime
done
```

**步骤 2: CPU 占用测试**
```bash
# 空闲状态（等待 10 秒）
sleep 10
adb shell top -n 1 | grep com.yanbaoai

# 使用状态（打开相机）
# 手动打开相机
sleep 5
adb shell top -n 1 | grep com.yanbaoai
```

**步骤 3: 内存占用测试**
```bash
# 空闲状态
adb shell dumpsys meminfo com.yanbaoai | grep "TOTAL PSS"

# 使用状态（打开相机）
# 手动打开相机
sleep 5
adb shell dumpsys meminfo com.yanbaoai | grep "TOTAL PSS"
```

**步骤 4: 帧率测试**
```bash
# 重置统计
adb shell dumpsys gfxinfo com.yanbaoai reset

# 使用应用 30 秒

# 查看帧率统计
adb shell dumpsys gfxinfo com.yanbaoai framestats
```

---

## ✅ 测试清单

### 1. 功能测试清单

#### 相机功能

| 测试项 | 测试步骤 | 预期结果 | 实际结果 | 状态 | 备注 |
|--------|----------|----------|----------|------|------|
| 打开相机 | 点击"相机"标签页 | 相机成功打开，显示实时预览 | | ☐ | |
| 关闭相机 | 切换到其他标签页 | 相机成功关闭，释放资源 | | ☐ | |
| 切换摄像头 | 点击切换按钮 | 成功切换，预览流畅 | | ☐ | |
| 拍照 | 点击拍照按钮 | 成功拍照，保存到相册 | | ☐ | |
| 闪光灯 | 点击闪光灯按钮 | 闪光灯状态切换正常 | | ☐ | |

#### 美颜功能

| 测试项 | 测试步骤 | 预期结果 | 实际结果 | 状态 | 备注 |
|--------|----------|----------|----------|------|------|
| 实时美颜 | 打开相机，启用美颜 | 实时美颜效果流畅 | | ☐ | |
| 滤镜切换 | 切换不同滤镜 | 滤镜切换流畅，效果正确 | | ☐ | |
| 图片编辑 | 调节亮度/对比度/饱和度 | 编辑效果实时预览 | | ☐ | |
| 保存照片 | 编辑后保存 | 成功保存到相册 | | ☐ | |

#### 大师功能

| 测试项 | 测试步骤 | 预期结果 | 实际结果 | 状态 | 备注 |
|--------|----------|----------|----------|------|------|
| 降级模式 | 点击"获取建议"按钮 | 返回建议文本 | | ☐ | |
| 智能模式 | 配置 API 后点击"获取建议" | 返回智能建议 | | ☐ | |
| 健康检查 | 点击"健康检查"按钮 | 显示系统状态 | | ☐ | |
| 思考动效 | 获取建议时 | 显示呼吸动效 | | ☐ | |

#### 记忆功能

| 测试项 | 测试步骤 | 预期结果 | 实际结果 | 状态 | 备注 |
|--------|----------|----------|----------|------|------|
| 保存记忆 | 点击"保存记忆"按钮 | 成功保存 | | ☐ | |
| 文本检索 | 输入关键词，点击"搜索" | 返回相关记忆 | | ☐ | |
| 情感检索 | 点击情感按钮 | 返回相似情感的记忆 | | ☐ | |
| 获取统计 | 查看统计卡片 | 显示记忆统计 | | ☐ | |

#### UI/UX 功能

| 测试项 | 测试步骤 | 预期结果 | 实际结果 | 状态 | 备注 |
|--------|----------|----------|----------|------|------|
| 屏幕适配 | 在不同设备上测试 | UI 正常显示 | | ☐ | |
| 深色模式 | 切换系统主题 | 应用主题自动切换 | | ☐ | |
| 文本汉化 | 检查所有页面 | 所有文本为中文 | | ☐ | |
| 页面切换 | 切换标签页 | 动效流畅 | | ☐ | |
| 按钮反馈 | 点击按钮 | 有缩放反馈 | | ☐ | |

---

### 2. 性能测试清单

| 指标 | 目标值 | 测试方法 | 实际值 | 状态 | 备注 |
|------|--------|----------|--------|------|------|
| APK 包体积 | < 30 MB | 查看 APK 文件大小 | | ☐ | |
| 启动速度 | < 1 秒 | `adb shell am start -W` | | ☐ | |
| CPU 占用（空闲） | < 10% | `adb shell top` | | ☐ | |
| CPU 占用（使用） | < 30% | `adb shell top` | | ☐ | |
| 内存占用（空闲） | < 100 MB | `adb shell dumpsys meminfo` | | ☐ | |
| 内存占用（使用） | < 200 MB | `adb shell dumpsys meminfo` | | ☐ | |
| 实时预览帧率 | ≥ 60 FPS | `adb shell dumpsys gfxinfo` | | ☐ | |
| 拍照延迟 | < 500ms | 手动计时 | | ☐ | |
| 美颜处理延迟 | < 16ms | 查看日志 | | ☐ | |
| 记忆检索延迟 | < 200ms | 查看日志 | | ☐ | |

---

### 3. 兼容性测试清单

| 测试项 | Android 10 | Android 11 | Android 12 | Android 13 | Android 14 |
|--------|------------|------------|------------|------------|------------|
| 应用安装 | ☐ | ☐ | ☐ | ☐ | ☐ |
| 应用启动 | ☐ | ☐ | ☐ | ☐ | ☐ |
| 相机功能 | ☐ | ☐ | ☐ | ☐ | ☐ |
| 美颜功能 | ☐ | ☐ | ☐ | ☐ | ☐ |
| 大师功能 | ☐ | ☐ | ☐ | ☐ | ☐ |
| 记忆功能 | ☐ | ☐ | ☐ | ☐ | ☐ |
| UI 显示 | ☐ | ☐ | ☐ | ☐ | ☐ |

---

## 📝 问题记录

### 问题记录模板

```markdown
## Bug #XXX

**优先级**: P0 / P1 / P2 / P3

**设备信息**:
- 品牌型号: XXX
- Android 版本: XXX
- 屏幕尺寸: XXX
- 分辨率: XXX

**问题描述**:
简要描述问题现象

**复现步骤**:
1. 步骤 1
2. 步骤 2
3. 步骤 3

**预期行为**:
描述预期的正确行为

**实际行为**:
描述实际发生的错误行为

**截图/录屏**:
附加截图或录屏

**日志**:
```
粘贴相关日志
```

**修复建议**:
（可选）提供修复建议
```

---

## 📊 测试报告

### 测试报告模板

```markdown
# yanbao AI 真机测试报告

## 测试信息

- **测试日期**: YYYY-MM-DD
- **测试人员**: XXX
- **测试设备**: 
  - 设备 1: XXX (Android XX)
  - 设备 2: XXX (Android XX)
  - 设备 3: XXX (Android XX)
- **应用版本**: 1.0.0

---

## 测试总结

### 通过率

| 类别 | 测试项 | 通过 | 失败 | 通过率 |
|------|--------|------|------|--------|
| 功能测试 | XX | XX | XX | XX% |
| 性能测试 | XX | XX | XX | XX% |
| 兼容性测试 | XX | XX | XX | XX% |
| **总计** | **XX** | **XX** | **XX** | **XX%** |

---

## 功能测试结果

### 相机功能

| 测试项 | 设备 1 | 设备 2 | 设备 3 | 状态 |
|--------|--------|--------|--------|------|
| 打开相机 | ✅ | ✅ | ✅ | 通过 |
| 关闭相机 | ✅ | ✅ | ✅ | 通过 |
| 切换摄像头 | ✅ | ✅ | ❌ | 失败 |
| 拍照 | ✅ | ✅ | ✅ | 通过 |
| 闪光灯 | ✅ | ✅ | ✅ | 通过 |

### 美颜功能

| 测试项 | 设备 1 | 设备 2 | 设备 3 | 状态 |
|--------|--------|--------|--------|------|
| 实时美颜 | ✅ | ✅ | ✅ | 通过 |
| 滤镜切换 | ✅ | ✅ | ✅ | 通过 |
| 图片编辑 | ✅ | ✅ | ✅ | 通过 |
| 保存照片 | ✅ | ✅ | ✅ | 通过 |

---

## 性能测试结果

| 指标 | 目标值 | 设备 1 | 设备 2 | 设备 3 | 状态 |
|------|--------|--------|--------|--------|------|
| APK 包体积 | < 30 MB | 25 MB | 25 MB | 25 MB | ✅ |
| 启动速度 | < 1 秒 | 800ms | 850ms | 900ms | ✅ |
| CPU 占用（空闲） | < 10% | 5% | 6% | 7% | ✅ |
| CPU 占用（使用） | < 30% | 20% | 22% | 25% | ✅ |
| 内存占用（空闲） | < 100 MB | 80 MB | 85 MB | 90 MB | ✅ |
| 内存占用（使用） | < 200 MB | 150 MB | 160 MB | 170 MB | ✅ |
| 实时预览帧率 | ≥ 60 FPS | 60 FPS | 60 FPS | 58 FPS | ⚠️ |

---

## Bug 列表

| Bug ID | 描述 | 优先级 | 设备 | 状态 |
|--------|------|--------|------|------|
| #1 | 切换摄像头失败 | P1 | 设备 3 | 待修复 |
| #2 | 帧率偶尔掉帧 | P2 | 设备 3 | 待修复 |

---

## 主要问题

1. **设备 3 切换摄像头失败**: 在华为 Mate 40 上切换摄像头时偶尔失败
2. **设备 3 帧率偶尔掉帧**: 在华为 Mate 40 上实时预览偶尔掉到 58 FPS

---

## 建议

1. 优化相机切换逻辑，增加错误处理
2. 优化实时预览性能，确保稳定 60 FPS
3. 在更多设备上测试

---

## 结论

**总体评分**: ⭐⭐⭐⭐ (4/5)

应用整体表现良好，功能完整，性能优秀。存在少量兼容性问题，建议修复后再次测试。
```

---

## 🎉 总结

### ✅ 真机测试指南完成

1. ✅ 设备准备清单
2. ✅ 环境配置步骤
3. ✅ 测试流程详解
4. ✅ 完整测试清单
5. ✅ 问题记录模板
6. ✅ 测试报告模板

### 🚀 新 Manus 账号可以

- ✅ 按照指南准备设备
- ✅ 按照流程执行测试
- ✅ 使用清单记录结果
- ✅ 使用模板记录问题
- ✅ 生成完整测试报告

---

**真机测试完整指南完成！** 🧪

---

Made with ❤️ by Jason Tsao for yanbao AI  
文档创建时间：2026年1月17日
